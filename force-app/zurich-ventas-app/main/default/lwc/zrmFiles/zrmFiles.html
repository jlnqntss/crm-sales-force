<template>
    <lightning-card variant="narrow" title="Ficheros" icon-name="standard:file">
        <div slot="actions">
            <lightning-button 
                label="Subir Fichero" 
                variant="Neutral"                    
                onclick={handleUploadClick} 
            ></lightning-button>
        </div>        
        <template if:true={showFileUploader}>
            <div class="slds-m-left_small">
                <lightning-file-upload
                    label="Cargar Archivos"
                    name="fileUploader"
                    record-id={recordId}
                    onuploadfinished={handleUploadFinished}
                    multiple>
                </lightning-file-upload>
            </div>
        </template>

        <lightning-card>
            <template for:each={filesList.data} for:item="file">
                <div key={file.value} class="slds-box">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-large-size_2-of-12 slds-medium-size_2-of-12 slds-size_12-of-12 slds-text-align_left">
                            <lightning-icon icon-name={file.fileIcon} alternative-text="File" title="File"></lightning-icon>
                          </div>
                        <div class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12 slds-text-align_left">
                          <a href={file.filePreviewUrl}>{file.fileTitle}</a>
                          <!--lightning-button label={file.fileTitle} 
                            data-id={file.id}
                            variant="base"
                            onclick={previewHandler}
                            ></lightning-button-->
                        </div>
                        <div class="slds-col slds-large-size_4-of-12 slds-medium-size_4-of-12 slds-size_12-of-12 slds-text-align_right">
                          <a class="slds-button slds-button_brand" href={file.fileDownloadUrl} download>Download</a>
                        </div>
                    </div>
                </div>
            </template>
       </lightning-card> 
    </lightning-card>
</template>